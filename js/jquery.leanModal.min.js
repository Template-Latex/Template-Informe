(function(a){a.fn.extend({leanModal:function(d){var e={overlay:0.7,closeButton:null};var c=a("<div id='lean_overlay'></div>");a("body").append(c);d=a.extend(e,d);return this.each(function(){var f=d;a(this).click(function(k){var j=a(this).attr("content");a("#lean_overlay").click(function(){b(j)});function g(l){if(l.keyCode==27||l.keyCode==8){b(j)}}document.addEventListener("keyup",g,false);a(f.closeButton).click(function(){b(j)});var i=(a(window).height()-a(j).height())/2;var h=a(j).outerWidth();a("#lean_overlay").css({display:"block",opacity:0});a("#lean_overlay").fadeTo(200,f.overlay);a(j).css({display:"block",position:"fixed",opacity:0,"z-index":11000,left:50+"%","margin-left":-(h/2)+"px",top:i+"px"});a(j).fadeTo(200,1);a("a.back-to-top").fadeOut(400);a("html").css("overflow-y","hidden");a("#downloadother-contents").scrollTop(0);a(window).resize(function(){a(j).css({top:(a(window).height()-a(j).height())/2+"px"})});k.preventDefault()})});function b(f){a("#lean_overlay").fadeOut(200);a("html").css("overflow-y","visible");a(f).css({display:"none"})}}})})(jQuery);